# Руководство по безопасности

## Настройка переменных окружения

Для правильной работы приложения необходимо создать файл `.env` в корне проекта. 
Используйте `.env.example` как шаблон. Никогда не храните секретные ключи в коде.

```
cp .env.example .env
```

Внесите ваши данные в созданный файл `.env`.

## Проверка безопасности перед развертыванием

Перед публикацией сайта необходимо выполнить следующие шаги:

1. **Переменные окружения:**
   - Убедитесь, что все API ключи, токены и пароли хранятся в `.env`, а не в коде
   - Проверьте, что файл `.env` добавлен в `.gitignore`

2. **Настройки Supabase:**
   - Используйте разные ключи для разработки и продакшена
   - Настройте правила доступа (RLS) в Supabase для всех таблиц
   - Используйте анонимный ключ только для чтения, а сервисный - только на сервере

3. **Защита от атак:**
   - Проверьте, что Content Security Policy (CSP) правильно настроена
   - Убедитесь, что XSS-защита активирована
   - Установите ограничения на размер входящих данных

4. **Тестирование:**
   - Выполните сканирование уязвимостей кода (npm audit)
   - Проверьте CORS-настройки, чтобы разрешить только нужные домены
   - Протестируйте формы на защиту от инъекций

## Безопасная обработка платежей

Для обработки платежей следует:

1. **Внедрить защищенные платежные шлюзы** (например, Stripe, PayPal)
2. **Никогда не хранить полные данные карт**
3. **Использовать только HTTPS**

## Регулярное обслуживание

1. **Проводите регулярные обновления зависимостей:**
   ```
   npm audit
   npm audit fix
   ```

2. **Проверяйте и обновляйте политики безопасности**

3. **Мониторьте журналы на наличие подозрительной активности**

## Контактная информация 

Если вы обнаружили уязвимости в проекте, пожалуйста, сообщите о них по адресу: [email@example.com](mailto:email@example.com)
